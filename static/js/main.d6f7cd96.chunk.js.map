{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","services/pixabayApi.js","App.js","index.js","components/Modal/Modal.module.css"],"names":["Searchbar","state","value","handleInputChange","event","currentTarget","setState","handleSubmit","preventDefault","props","onSubmit","reset","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGallery","children","ImageGalleryItem","id","largeImageURL","onClick","image","src","webformatURL","alt","tags","data-source","Button","onLoadMore","modalRoot","document","querySelector","Modal","hendleKeyDown","e","code","onClose","hendleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","style","overlay","modal","url","API_KEY","BASE_URL","fetchImages","query","page","perPage","axios","get","then","response","data","hits","App","images","showModal","largeImage","newQuery","getImages","prevState","detectModalImage","console","log","toggleModal","prevProps","isLoading","shouldRenderLoadMoreButton","length","map","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.d6f7cd96.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nimport style from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = { value: '' };\n\n  handleInputChange = event => {\n    const { value } = event.currentTarget;\n\n    this.setState({\n      value,\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    this.state.value && this.props.onSubmit(this.state.value);\n\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ value: '' });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.value}\n            onChange={this.handleInputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from 'react';\n\nimport style from './ImageGallery.module.css';\n\nconst ImageGallery = ({ children }) => {\n  return <ul className=\"ImageGallery\">{children}</ul>;\n};\n\nexport default ImageGallery;\n","import React from 'react';\n\nimport style from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ id, largeImageURL, onClick, image }) => {\n  return (\n    <li key={id} className=\"ImageGalleryItem\">\n      <img\n        src={image.webformatURL}\n        alt={image.tags}\n        className=\"ImageGalleryItem-image\"\n        onClick={onClick}\n        data-source={largeImageURL}\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\n\nimport style from './Button.module.css';\n\nconst Button = ({ onLoadMore }) => {\n  return (\n    <button type=\"button\" className=\"Button\" onClick={onLoadMore}>\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport style from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.hendleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.hendleKeyDown);\n  }\n\n  hendleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  hendleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={style.overlay} onClick={this.hendleBackdropClick}>\n        <div className={style.modal}>\n          <img src={this.props.url} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  url: PropTypes.string.isRequired,\n};\n\n// export default Modal;","import axios from 'axios';\n\nconst API_KEY = \"19834065-125c9af840da0921b3970040a\";\nconst BASE_URL = 'https://pixabay.com/api/';\n\nfunction fetchImages(query, page, perPage = 12) {\n  return axios\n    .get(\n      `${BASE_URL}?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${perPage}`,\n    )\n    .then(response => response.data.hits);\n}\n\nexport { fetchImages };\n","import React, { Component } from 'react';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport ImageGalleryItem from './components/ImageGalleryItem';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\n\nimport { fetchImages } from './services/pixabayApi';\n\nclass App extends Component {\n  state = { \n    images: [], \n    query: 'moto', \n    page: 1,\n    showModal: false,\n    largeImage: null,\n  };\n\n  componentDidMount() {\n    fetchImages(this.state.query, this.state.page).then(images =>\n      this.setState({ images: images }),\n    );\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.getImages();\n    }\n  }\n\n  handleSubmit = newQuery => {\n    this.setState({ images: [], query: newQuery, page: 1 });\n  };\n\n  getImages = () => {\n    fetchImages(this.state.query, this.state.page, 5).then(images =>\n      this.setState(prevState => ({\n        images: [...prevState.images, ...images],\n        page: prevState.page + 1,\n      })),\n    );\n  };\n\n  detectModalImage = url => {\n    console.log(url);\n    this.setState({ largeImage: url });\n    console.log(this.state.largeImage);\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n\n  render() {\n    const { showModal, images, isLoading } = this.state;\n    const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleSubmit} />\n        <ImageGallery>\n          {this.state.images.map(image => (\n            <ImageGalleryItem key={image.id} image={image} />\n          ))}\n\n        </ImageGallery>\n               {shouldRenderLoadMoreButton && <Button onLoadMore={this.getImages} />}\n        \n        {showModal && (\n          <Modal onClose={this.toggleModal} url={this.state.largeImage} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"modal\":\"Modal_modal__P3_V5\"};"],"sourceRoot":""}